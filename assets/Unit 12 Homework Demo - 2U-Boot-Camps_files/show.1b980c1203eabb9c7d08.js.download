/*! For license information please see show.1b980c1203eabb9c7d08.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3594],{94647:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},11504:t=>{function e(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=t.apply(n,r);function a(t){e(s,o,i,a,c,"next",t)}function c(t){e(s,o,i,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},89372:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},5816:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},38620:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},44422:(t,e,n)=>{var r=n(17276);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},17066:(t,e,n)=>{var r=n(11873).default,o=n(94647);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},17276:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},11873:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},57135:(t,e,n)=>{t.exports=n(86248)},52452:t=>{var e={development:"bottler.wistia.io",staging:"bottler.wistia.st",stagingBranchDeploy:"bottler.wistia.st",production:"bottler.wistia.com"},n={development:"00000000000000000000000000000000",staging:"7dfba55619e0ca7743acb77ebbcb04ff",stagingBranchDeploy:"7dfba55619e0ca7743acb77ebbcb04ff",production:"7dfba55619e0ca7743acb77ebbcb04ff"},r={development:"embed.wistia.io",staging:"embed.wistia.st",stagingBranchDeploy:"embed.wistia.st",production:"embed.wistia.com"},o={development:"embed-wistia-staging.akamaized.net",staging:"embedwistia-a.akamaihd.net",stagingBranchDeploy:"embedwistia-a.akamaihd.net",production:"embedwistia-a.akamaihd.net"},i={development:"wistia.io",staging:"wistia.st",stagingBranchDeploy:"wistia.st",production:"wistia.com"},s={development:"pipedream.wistia.io",staging:"pipedream.wistia.st",stagingBranchDeploy:"pipedream.wistia.st",production:"pipedream.wistia.com"},a={development:"2fb0469b-1b8f-4e8c-a667-2ec4aed1e972",staging:"",stagingBranchDeploy:"",production:""},c={development:"https://354-URC-800.mktorest.com/rest",staging:"",stagingBranchDeploy:"",production:""},u={development:"https://354-URC-800.mktorest.com/identity",staging:"",stagingBranchDeploy:"",production:""},l={development:"integrationsdev@wistia.com",staging:"",stagingBranchDeploy:"",production:""},d={development:"sandbox",staging:"sandbox",stagingBranchDeploy:"sandbox",production:"production"},h={development:"embed-ssl.wistia.io",staging:"embed-fastly.wistia.st",stagingBranchDeploy:"embed-fastly.wistia.st",production:"embed-ssl.wistia.com"},p={development:"pk_test_2Dt52xjq2MEccyO4YJNGnNT100Zp1VSj49",staging:"pk_test_2Dt52xjq2MEccyO4YJNGnNT100Zp1VSj49",stagingBranchDeploy:"pk_test_2Dt52xjq2MEccyO4YJNGnNT100Zp1VSj49",production:"pk_live_LM3O5DtrJvDAxXYYOdBb4Br7001VnXKEff"},f=/.(branch-\d+).wistia.st/i,g=function(){var t=window.location.hostname;return t.endsWith("wistia.com")?"production":t.endsWith("wistia.st")?t.match(f)?"stagingBranchDeploy":"staging":t.endsWith("wistia.io")?"development":"production"},m=function(){var t="",e=g();if("stagingBranchDeploy"===e){var n=window.location.hostname.match(f);n&&(t="".concat(n[1],"."))}return"".concat(t).concat(i[e])},v={get environment(){return g()},get hostname(){return m()},get bottlerHost(){return e[g()]},get bugsnagApiKey(){return n[g()]},get dataApiHost(){return"api.".concat(m())},get embedHost(){return r[g()]},get dynamicSslEmbedHost(){return o[g()]},get fastHostname(){return"fast.".concat(m())},get fastBaseHostname(){return"fast.".concat((t=window.location.href,n=(e=new URL(t).hostname.split(".")).pop(),r=e.pop(),"".concat(r,".").concat(n)));var t,e,n,r},get hubspotTestDriveFormGuid(){return"f2a09913-83ad-4180-b837-e76801be0e6b"},get integrationsMarketoClientId(){return a},get integrationsMarketoEndpoint(){return c},get integrationsMarketoIdentity(){return u},get integrationsPardotUsername(){return l},get metricsHost(){return s[g()]},get pendoApiKey(){return"004aa220-e830-47ce-67b9-3e295aa16b40"},get plaidEnv(){return d[g()]},get plaidPublicKey(){return"3b79d0315d21db7881bc5a985ccd24"},get port(){return 80},get reduxSkipLogging(){return!1},get sslEmbedHost(){return h[g()]},get stripePublicKey(){return p[g()]}};t.exports=v},68928:()=>{window.NameAndDescription=Backbone.Model.extend({defaults:{name:"",description:"",canUpdate:!1},sync:function(t,e,n){return Backbone.sync("update",e,n)}})},21643:()=>{window.NameAndDescriptionView=Backbone.View.extend({initialize:function(){return this.$editHint=this.$(".edit-hint"),this.$title=this.$("#title"),this.$titleText=this.$("#title h1"),this.$titleEditor=this.$("#title .editor"),this.$showMoreButton=this.$(".show_more_button"),this.$editor=this.$("textarea.editor"),this.$descriptionBody=this.$(".body"),this.$contents=this.$(".body .description_wrapper"),this.$formatLink=this.$(".format-link"),this.$arrow=this.$(".options .arrow"),this.$formatHelp=this.$(".how_to_format"),this.$footer=this.$(".description-footer"),this.$controls=this.$(".controls"),this.$save=this.$(".controls .save"),this.$cancel=this.$(".controls .reset"),this.mode=this.options.mode||"display",this.setPlaceholder(),this.render()},render:function(){return this.model.canUpdate?("editable"===this.mode?this.showEditable():"display"===this.mode?(this.showNonEditable(),this.hideEditHint()):this.showNonEditable(),this.shouldTruncate()?void 0:this.$contents.removeClass("is-truncated")):this.shouldTruncate()?(this.$showMoreButton.text("Show more").removeClass("is-inverted").show(),this.$contents.addClass("is-truncated")):(this.$showMoreButton.hide(),this.$contents.removeClass("is-truncated"))},descriptionMaxHeight:110,shouldTruncate:function(){return this.descriptionMaxHeight<this.descriptionHeight()},descriptionHeight:function(){return $.map(this.$contents.children(),(function(t){return t.clientHeight})).reduce((function(t,e){return t+e}),0)},events:{"click .edit-hint":"showEditable",mouseover:"hideEditHintOnChannelActionHover",mouseout:"hideEditHint","click .save":"save","click .reset":"cancel","click .format-link":"toggleFormatHelp","input .editor":"highlightSave","click .show_more_button":"toggleDescription"},showEditHint:function(){if("display"===this.mode)return this.$contents.addClass("hover"),this.$editHint.show()},hideEditHintOnChannelActionHover:function(){var t=$("#channel_action");return t.length&&t.is(":hover")?this.hideEditHint():this.showEditHint()},toggleDescription:function(){return this.$contents.hasClass("is-truncated")?(this.$contents.removeClass("is-truncated"),this.$showMoreButton.text("Show less").addClass("is-inverted")):(this.$contents.addClass("is-truncated"),this.$showMoreButton.text("Show more").removeClass("is-inverted"))},hideEditHint:function(){if("display"===this.mode)return this.$contents.removeClass("hover"),this.$editHint.hide()},toggleTopCTAs:function(){var t=$(".se-upload-media");t&&t.toggle();var e=$("#channel_action");e&&e.toggle();var n=$(".se-embed-share");if(n)return n.toggle()},toggleProjectLabels:function(){var t=$(".project-type-labels");if(t)return t.toggle()},showEditable:function(){return this.hideEditHint(),this.toggleTopCTAs(),this.toggleProjectLabels(),this.mode="editable",this.$beforeEditVal=this.$editor.val(),this.$beforeTitleEditVal=this.$titleEditor.val(),this.$titleEditor.show(),this.$editor.show(),this.$controls.show(),this.$save.show(),this.$cancel.show(),this.$footer.show(),this.$titleText.hide(),this.$descriptionBody.hide(),this.$showMoreButton.hide(),this.focusOnEditor(),!1},showNonEditable:function(){return this.mode="display",this.unHighlightSave(),this.$descriptionBody.show(),this.$titleText.show(),this.$controls.show(),this.shouldTruncate()?(this.$showMoreButton.text("Show more").removeClass("is-inverted").show(),this.$contents.addClass("is-truncated")):(this.$showMoreButton.hide(),this.$contents.removeClass("is-truncated")),this.$footer.hide(),this.$titleEditor.hide(),this.$editor.hide(),this.$cancel.show(),this.$save.hide(),this.emptyDescription()&&this.$contents.html(""),this.showEditHint(),!1},highlightSave:function(){return this.$save.addClass("highlighted")},unHighlightSave:function(){return this.$save.removeClass("highlighted")},emptyDescription:function(){return""===$.trim(this.$contents.html())},hasDescription:function(){return!this.emptyDescription()},toggleEditable:function(){return this.$footer.is(":hidden")?this.showEditable():this.showNonEditable()},setPlaceholder:function(){return this.$editor.attr("placeholder","Add a description"),this.$titleEditor.attr("placeholder","Add a title")},save:function(){var t=this;return this.model.save({name:this.$titleEditor.val(),markdown_description:this.$editor.val()},{only:["name","markdown_description"],success:function(e){return e.attributes.markdown_description?(t.$contents.html(e.attributes.description),t.$editor.val(e.attributes.markdown_description)):(t.$contents.html(""),t.$editor.val("")),e.attributes.name?t.$titleText.html(e.attributes.name):t.$titleText.html(""),t.showNonEditable(),t.model.save({description:e.attributes.description}),t.$el.trigger("saved"),t.toggleTopCTAs(),t.toggleProjectLabels()},error:function(){return statusBar.error("Failed to save the title and description."),t.toggleTopCTAs(),t.toggleProjectLabels()}}),!1},cancel:function(){return this.$editor.val(this.$beforeEditVal),this.$titleEditor.val(this.$beforeTitleEditVal),this.showNonEditable(),this.toggleTopCTAs(),this.toggleProjectLabels(),!1},focusOnEditor:function(){return this.$titleEditor.focus().select()},toggleFormatHelp:function(){return this.$formatHelp.is(":visible")?this.hideFormatHelp():this.showFormatHelp(),!1},hideFormatHelp:function(){var t=this;return this.$footer.animate({backgroundColor:"transparent"},100),this.$save.removeClass("dark"),this.$cancel.removeClass("dark"),this.$formatHelp.slideUp(200,"easeInSine",(function(){return t.$arrow.removeClass("open")}))},showFormatHelp:function(){return this.$formatHelp.slideDown(400,"easeOutSine"),this.$footer.css("background-color","#f1efeb"),this.$save.addClass("dark"),this.$cancel.addClass("dark"),this.$arrow.addClass("open")}})},1539:(t,e,n)=>{var r=n(89372),o=n(5816);window.Prompt=function(){"use strict";function t(e,n,o,i){r(this,t),this.promptClass=e,this.promptFlag=o,this.extraoverlayClass=i,this.$prompt=$(this.promptClass),0!==this.$prompt.length&&(this.reportClosePath="/medias/".concat(WistiaContext.media.hashedId,"/customizations/save_prompt_flag"),this.createOverlay(),this.buildPrompt(n),this.setupBindings(),this.animateOpen())}return o(t,[{key:"createOverlay",value:function(){if(0===$(".prompt__overlay").length)return $("body").append("<div class='prompt__overlay ".concat(this.extraoverlayClass,"'></div>"))}},{key:"buildPrompt",value:function(t){return this.$prompt.css(t)}},{key:"setupBindings",value:function(){var t=this;return $("body").on("click","".concat(this.promptClass," .prompt__overlay"),(function(){return!1})),$("body").on("click","".concat(this.promptClass," .prompt__close"),(function(){return t.close(),$.post(t.reportClosePath,{prompt_flag:t.promptFlag})}))}},{key:"animateOpen",value:function(){var t=this;return $(".prompt__overlay").height($(document).height()),$(".prompt__overlay").fadeIn(150,(function(){return t.$prompt.show()}))}},{key:"close",value:function(){return this.$prompt.hide().remove(),$(".prompt__overlay").remove().fadeOut("slow")}}]),t}()},18807:(t,e,n)=>{var r,o,i,s=n(89372),a=n(5816);t.exports=((r=function(){"use strict";function t(e){s(this,t),this.displayStatus=this.displayStatus.bind(this),null==e&&(e={}),this.config=e,e.urls&&(this.statusUrl=e.urls.status),this.status=e.status,this.progress=Math.round(100*e.progress),this.poller=null}return a(t,[{key:"start",value:function(){return this.status===i.FAILED?this._showFailed():this.run()}},{key:"stop",value:function(){return clearInterval(this.poller),delete this.poller}},{key:"run",value:function(){var t=this;return this.displayStatus(this.status,this.progress),this.poller=setInterval((function(){return t.fetchStatus()}),o)}},{key:"onQueued",value:function(t){return"function"==typeof this.config.onQueued?this.config.onQueued():void 0}},{key:"onProcessing",value:function(t){return"function"==typeof this.config.onProcessing?this.config.onProcessing(t):void 0}},{key:"onReady",value:function(){return"function"==typeof this.config.onReady?this.config.onReady():void 0}},{key:"onFailed",value:function(){return"function"==typeof this.config.onFailed?this.config.onFailed():void 0}},{key:"isReady",value:function(){return this.status===i.READY}},{key:"isProcessing",value:function(){return this.status===i.PROCESSING}},{key:"fetchStatus",value:function(){var t=this;return $.ajax({url:this.statusUrl,method:"get",success:function(e){return t.status=e.status,t.progress=Math.round(100*e.progress),t.displayStatus(t.status,t.progress)},error:function(e){return t.errorCount||(t.errorCount=0),t.errorCount+=1,t.errorCount>=5&&t.stop(),console.dir(e)}})}},{key:"displayStatus",value:function(t,e){switch(t){case i.QUEUED:return this.onQueued(e);case i.PROCESSING:return this.onProcessing(e);case i.READY:return this.stop(),this.onReady();case i.FAILED:return this.onFailed()}}}],[{key:"initClass",value:function(){o=5e3,i={FAILED:-1,QUEUED:0,PROCESSING:1,READY:2}}}]),t}()).initClass(),r=r)},55647:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(91976),o=n(22951),i=n(88452);const s=(0,r.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,t),this.elem=e,this.options=n,this.uploader=new Wistia.Uploader((0,i.assign)({button:this.elem,customButton:!0,createMedia:!1,allowNonVideoUploads:!0,useUploadV2:!0,useWistiaInAppAuth:!0,projectId:WistiaContext.granary.creds.additional_auth_params.project_id},n))}))},62075:(t,e,n)=>{var r,o,i=n(89372),s=n(5816),a=n(44422),c=n(17066),u=n(38620);Wistia,t.exports=((o=window.ReplaceVideoStatusBar=function(t){"use strict";a(l,t);var e,n,o=(e=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=u(e);if(n){var o=u(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),(e=o.call(this,t)).$messagesEl.on("click",".status-bar__cancel-button",(function(t){return console.log("cancel click"),t.stopPropagation(),null!=e.options.onCancel?"function"==typeof e.options.onCancel?e.options.onCancel():void 0:"function"==typeof e.onCancel?e.onCancel():void 0})),e}return s(l,[{key:"success",value:function(t,e){return null==e&&(e={}),e=_.extend(e,{life:r,clickArea:"button",type:"success"}),this._add($("<div class='status-bar__message'>".concat(t,"<div class='status-bar__remove-button'></div></div>")),e),this}},{key:"failed",value:function(t,e){return null==e&&(e={}),e=_.extend(e,{life:r,clickArea:"button",type:"failure"}),this._add($("<div class=' status-bar__message'>".concat(t,"<div class='status-bar__remove-button'></div></div>")),e),this}},{key:"progressing",value:function(t,e){if(null==e&&(e={}),!(this.$messagesEl.find("#replace-media-progress").length>0)){e=_.extend(e,{life:r,clickArea:"none",type:"progress"});var n="<div id='replace-media-progress'> <div class='progress__bar progress__bar--replace-video-status'> <div class='progress__text'></div> </div> </div> <div class='status-bar__message'> <div  class='progress progress--replace-video-status'> <div class='progress__static-message'>".concat(t,"</div> <div class='status-bar__cancel-button'>Cancel</div> </div> </div>");return this._add($(n),e),this.progress=new ProgressBar("replace-media-progress",{percent:e.percent})}}},{key:"update_progress",value:function(t,e){return void 0!==this.progress&&this.progress.update(t),this.$messagesEl.find(".progress__static-message").text(e)}},{key:"showRemoveButton",value:function(){var t;if(t=this.$messagesEl.find("status-bar__cancel-button"))return t.addClass(".status-bar__remove-button").removeClass("status-bar__cancel-button").text("")}}],[{key:"initClass",value:function(){r=0}}]),l}(window.StatusBar)).initClass(),o)},85594:(t,e,n)=>{var r,o,i,s,a,c,u,l=n(89372),d=n(5816);t.exports=((r=function(){"use strict";function t(){l(this,t)}return d(t,null,[{key:"initClass",value:function(){var t=this;this.instance=null,o="This media is currently queued for replacement.",i="This media is being replaced (#{}% encoded). The old version will continue to display until this is complete.",s="Encoding failed. Before trying again, check out our Help Center for <a href='https://wistia.com/support/troubleshooting/upload-troubleshooting'>upload troubleshooting</a>.",a="Success! All embedded instances now reflect this new version.",c="Success! All embedded instances now reflect this new version and a copy of the old version has been saved in this project.",u=null,this.cancelReplacement=function(){return t.instance.stop(),statusBar.update_progress(0,"Cancelling replacement..."),$.ajax({url:t.cancel_url,success:function(e){return statusBar.update_progress(0,e.message),statusBar.showRemoveButton(),t.instance.stop(),setTimeout((function(){return statusBar.clear()}),5e3)}})},this._showProcessing=function(e){var n=e;return 100===e&&(n=99,t.statusBar.showRemoveButton()),t.statusBar.progressing(t._getProcessingMessage(n),{percent:n}),t.statusBar.update_progress(e,t._getProcessingMessage(n))}}},{key:"start",value:function(t){var e=this;null==t&&(t={}),null==this.instance&&(this.instance=new MediaStatusPoller(t)),this.instance.onQueued=function(t){return e._showQueued()},this.instance.onProcessing=function(t){return e._showProcessing(t)},this.instance.onReady=function(){return e._showReady()},this.instance.onFailed=function(){return e._showFailed()},this.cancel_url=t.urls.cancel,this._initStatusBar(),u=t.replacementMethod;try{this.instance.start()}catch(t){console.log("MediaStatusPoller failed"),this.instance.stop()}return this.instance}},{key:"showReplacementMedia",value:function(){return this.instance.isReady()?(t="swap"===u?c:a,Cookies.set("replacement_message",t),location.href.indexOf("media_finished")>-1?void 0:location.replace("".concat(location.href,"?media_finished"))):console.log("Replacement media not ready");var t}},{key:"_getProcessingMessage",value:function(t){return null==t&&(t=0),i.replace("#{}",t.toString())}},{key:"_initStatusBar",value:function(){return window.statusBar=new ReplaceVideoStatusBar({anchor:"#status_bar_anchor",canFloat:!0}),window.statusBar.onCancel=function(){return t.cancelReplacement()},this.statusBar=window.statusBar}},{key:"_showQueued",value:function(){return this.statusBar.progressing(o)}},{key:"_showReady",value:function(){return this.instance.stop(),t.showReplacementMedia()}},{key:"_showFailed",value:function(){return this.instance.stop(),this.statusBar.clear(),this.statusBar.failed(s)}}]),t}()).initClass(),r=r)},85074:(t,e,n)=>{var r,o,i,s,a=n(89372),c=n(5816),u=n(55647).Z,l=n(6184).Z,d=n(52452);t.exports=((r=function(){"use strict";function t(){a(this,t)}return c(t,null,[{key:"initClass",value:function(){Wistia,o=null,i=null,s=function(){function t(){a(this,t)}return c(t,[{key:"start",value:function(){return this.$form=$("#".concat("upload_form")),this.uploader=this._makeUploader(),this.progressBar=new ProgressBar("replacement_progress"),this._showUploadForm(),this._attachEventHandlers()}},{key:"_attachEventHandlers",value:function(){var t=this;return $("#replacement_cancel button").on("click",(function(){return t._cancelUpload()})),$("#reattempt button").on("click",(function(){return t._showUploadForm()}))}},{key:"_makeUploader",value:function(){var t=this;return this._fetchUploaderJs().then((function(){return t.uploader=new u("replace_video_upload_button"),t.embeddableUploader=t.uploader.uploader,t.embeddableUploader.bind("uploadstart",(function(e){if(t._showUploadProgress(),t._swapIsSelected)return t._showSwapInfo})),t.embeddableUploader.bind("uploadprogress",(function(e,n){var r=Math.round(100*n);return t.progressBar.update(r,"".concat(r,"%"))})),t.embeddableUploader.bind("uploadsuccess",(function(e,n){return t._replaceVideo(n.hashed_id)})),t.embeddableUploader.bind("uploaderror",(function(){return t._showUploadFailed()})),t.uploader}))}},{key:"_wapiqIsActive",value:function(){return new Promise((function(t){window._wapiq=window._wapiq||[],window._wapiq.push(t)}))}},{key:"_fetchUploaderJs",value:function(){return Wistia.Uploader?Promise.resolve():Promise.all([this._wapiqIsActive(),l("https://".concat(d.fastBaseHostname,"/assets/external/api.js"))])}},{key:"_cancelUpload",value:function(){var t=this;return this.embeddableUploader.cancel(),this.progressBar.update(0,"0%"),setTimeout((function(){return t._showUploadForm()}),500)}},{key:"_replaceVideo",value:function(t){var e;return this._disableCancelButton(),e=this._swapIsSelected()?this._swapRedirectUrl():this._overwriteRedirectUrl(),e="".concat(e,"&media[bakery_hashed_id]=").concat(t),$.ajax({url:e,method:"get",success:function(t){return Cookies.set("queued_for_replacement",i),$.facebox.close(),window.location.reload()},error:function(t){return statusBar.error("An error occurred after uploading."),$.facebox.close()}})}},{key:"_hideAllElements",value:function(){return $(".close").hide(),$("#replace-video > div").each((function(t,e){return $(e).hide()}))}},{key:"_showUploadForm",value:function(){return this._hideAllElements(),$(".close").show(),$("#modal_title").text("Replace Media"),this.$form[0].reset(),$("#replace-video > #upload").show()}},{key:"_showUploadProgress",value:function(){return this._hideAllElements(),$("#modal_title").text("Uploading replacement..."),$("#uploading_replacement").show()}},{key:"_showUploadFailed",value:function(){return this._hideAllElements(),$("#modal_title").text("Upload failed"),$("#upload_failed").show()}},{key:"_showSwapInfo",value:function(){return $("#swap_info").show()}},{key:"_disableCancelButton",value:function(){return $("#replacement_cancel button").attr("disabled",!0)}},{key:"_swapIsSelected",value:function(){return this.$form.find(".swap").is(":checked")}},{key:"_replacementMethod",value:function(){return null!=this._swapIsSelected?this._swapIsSelected:{swap:"overwrite"}}},{key:"_swapRedirectUrl",value:function(){return this.$form.find(".swap").val()}},{key:"_overwriteRedirectUrl",value:function(){return this.$form.find(".overwrite").val()}}]),t}()}},{key:"load",value:function(t){return null==o&&(o=new s),i=t,o.start(),o}}]),t}()).initClass(),r=r)},93484:()=>{var t,e=NameAndDescription.extend({namespace:"media",url:"".concat(WistiaContext.media.update_name_and_desc_url,".json")});if(window.mediaNameAndDescription=new e({name:WistiaContext.media.name,description:WistiaContext.media.description,canUpdate:canUpdateMedia}),window.mdv=new NameAndDescriptionView({el:$(".title_and_description"),model:mediaNameAndDescription}),canUpdateMedia&&window.theMediaEmbed&&theMediaEmbed.bind){var n=function(){return $(".size_toggler").show()};theMediaEmbed.bind("play",(function(){if(theMediaEmbed.width()>=960)return $(".size_toggler").hide()})),theMediaEmbed.bind("pause",n).bind("end",n)}$("#media_controls a.comment").click((function(){return $.scrollTo(ta,500,(function(){return $("#comments textarea:last").focus()})),!1})),Wistia,$.getJSON("/medias/".concat(WistiaContext.media.hashedId,"/previous.json"),(function(t){if(r(null!=t?t.media:void 0,(function(t){return t.hashed_id})))return $.hotkey("k",(function(){return location.href="/medias/".concat(t.media.hashed_id)}))})),$.getJSON("/medias/".concat(WistiaContext.media.hashedId,"/next.json"),(function(t){if(r(null!=t?t.media:void 0,(function(t){return t.hashed_id})))return $.hotkey("j",(function(){return location.href="/medias/".concat(t.media.hashed_id)}))})),t=Wistia,window._wq=window._wq||[],_wq.push({id:WistiaContext.media.hashedId,onEmbedded:function(t){if("notplayable"===t.playerType)return("function"==typeof t._impl.allFailed?t._impl.allFailed(t._mediaData):void 0)?statusBar.error("Encoding failed. Before trying again, check out our Help Center for <a href='https://wistia.com/support/troubleshooting/video-encoding-troubleshooting#unable-to-process' style='color:#fff;' target='_blank'>troubleshooting encoding failures</a>.",{life:-1}):t.bind("processingcomplete",(function(){return setTimeout((function(){return t.ready((function(){return t.addPlugin("encodingProgress",{on:!0})})),t.unbind}),3e3),t.unbind}))},onHasData:function(e){$(document).on("click",".rebuild-with-encoding-progress",(function(t){return t.preventDefault(),(null!=e.plugin.encodingProgress?e.plugin.encodingProgress.totalProgress:void 0)>=1?e._impl._refreshDataFromServer((function(){return e.fullRebuild()})):e.fullRebuild({plugin:{encodingProgress:{on:!0}}})}));var n=function(){return 0===statusBar.liveMessageCount()&&statusBar.info("",{id:"encoding-progress",life:-1}),t.eventLoop.add("update-encoding-progress",2e3,(function(){return e.plugin("encodingProgress",(function(e){if(statusBar.replaceContents("encoding-progress","Encoding: ".concat(e.progressSummaryString(),'. <a href="#" class="rebuild-with-encoding-progress" style="color:#fff;">Refresh the video</a>.')),e.totalProgress()>=1)return statusBar.replaceContents("encoding-progress",'The video has finished encoding. <a href="#"  class="rebuild-with-encoding-progress" style="color:#fff;">Reload to see the latest</a>.'),e.stopPolling(),t.eventLoop.remove("update-encoding-progress")}))}))};return e.plugin("encodingProgress",(function(t){var r=t.totalProgress();if(r>0&&r<1)return e.hasData((function(){return n()})),e.bind("refreshed-from-server",(function(){if(n(),!e.plugin.encodingProgress)return e.unbind}))}))}});var r=function(t,e){return null!=t?e(t):void 0}},32244:(t,e,n)=>{var r=n(57135),o=n(11504),i=function(){var t=o(r.mark((function t(e){var n,o,i,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.eventName,o=e.hashedId,i="/medias/".concat(o,"/log_metrics"),(s=new FormData).append("event_name",n),fetch(i,{method:"POST",body:s,headers:{"X-CSRF-TOKEN":window._auth_token}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports={logMetrics:i}},54897:(t,e,n)=>{window.Cookies=n(67921),n(68928),n(21643),n(1539),n(93484),window.MediaStatusPoller=n(18807),window.ReplaceVideoStatusBar=n(62075),window.ReplaceVideoStatusPoller=n(85594),window.ReplaceVideoUploader=n(85074);var r=n(32244).logMetrics;$("[data-logmetrics]").livequery((function(){$(this).on("click",(function(){var t=$(this).data("logmetrics"),e=window.location.pathname.match(/\/medias\/(.*)\/?/)[1];r({eventName:t,hashedId:e})}))}))},88452:(t,e,n)=>{"use strict";n.r(e),n.d(e,{assign:()=>k,cast:()=>C,castDeep:()=>E,clone:()=>$,eachLeaf:()=>v,eachObjectLeaf:()=>y,equalsDeep:()=>S,except:()=>B,getDeep:()=>h,isArray:()=>a,isEmpty:()=>O,isObject:()=>u,isSubsetDeep:()=>w,merge:()=>_,pick:()=>P,setDeep:()=>p,unsetDeep:()=>f});var r=n(33940),o=Array.prototype.slice,i=function(t){return t},s=/^\s*function Array()/,a=function(t){return null!=t&&t.push&&s.test(t.constructor)},c=/^\s*function Object()/,u=function(t){return null!=t&&"object"===(0,r.Z)(t)&&c.test(t.constructor)},l=/^\s*function RegExp()/,d=/^string|number|boolean|function$/i,h=function(t,e,n){e="string"==typeof e?e.split("."):o.call(e);for(var r,i=t;null!=t&&e.length;){var s=e.shift();void 0!==t[s]&&(u(t[s])||a(t[s]))||!n||(0===s?(t=i[r]=[])[s]={}:t[s]={}),i=t,r=s,t=t.hasOwnProperty(s)?t[s]:void 0}return t},p=function(t,e,n){var r=(e="string"==typeof e?e.split("."):o.call(e)).pop();null!=(t=h(t,e,!0))&&(u(t)||a(t))&&null!=r&&(null!=n?t[r]=n:delete t[r])},f=function(t,e){return p(t,e)},g=function(t,e,n){return null==n},m=function t(e,n,i,s,c,h){if(null==i&&(i=[]),function(t){return null!=t&&(d.test((0,r.Z)(t))||function(t){return null!=t&&l.test(t.constructor)}(t))}(e)||h&&h(e))n(e,i,s,c);else if(u(e)||a(e)){for(var p in n(e,i,s,c),e)if(e.hasOwnProperty(p)){var f=o.call(i);f.push(p),t(e[p],n,f,e,p)}}else n(e,i,s,c)},v=function(t,e,n){m(t,(function(t,r,o,i){(!a(t)&&!u(t)||n&&n(t))&&e(t,r,o,i)}),void 0,void 0,void 0,n)},y=function(t,e){return v(t,e,a)},w=function(t,e){if(t===e)return!0;if(null!=t&&null==e||null==t&&null!=e)return!1;var n=!0;return v(t,(function(t,r){t!==h(e,r)&&(n=!1)})),n},b=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(a(n)){a(e)||(e=[]);for(var s=0;s<n.length;s++){var c=n[s];null==e[s]&&null!=c&&(a(c)?e[s]=[]:u(c)&&(e[s]={}));var l=t(e[s],c,r);o(n,s,l)?delete e[s]:e[s]=l}return r(e)}if(u(n)){for(var d in n)if(n.hasOwnProperty(d)&&(e.hasOwnProperty(d)||null==e[d])){var h=n[d];a(h)?(a(e[d])||(e[d]=[]),t(e[d],h,r),e[d]=r(e[d])):u(h)?(u(e[d])||(e[d]={}),t(e[d],h,r),e[d]=r(e[d])):null==e?(e={},o(n,d,h)||(e[d]=r(h))):o(n,d,h)?delete e[d]:e[d]=r(h)}return r(e)}return r(n)},_=function(t){if(0==(arguments.length<=1?0:arguments.length-1))return t;for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++)b(t,e+1<1||arguments.length<=e+1?void 0:arguments[e+1]);return t},$=function(t,e){return a(t)?b([],t,e):b({},t,e)},x=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},k=function(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++)x(t,e+1<1||arguments.length<=e+1?void 0:arguments[e+1]);return t},E=function(t){return v(t,(function(t,e,n,r){"string"==typeof t&&(n[r]=C(t))})),t},C=function(t){if(null==t)return t;if(u(t)||a(t))return E(t);var e="".concat(t);return/^\-?[1-9]\d*?$/.test(e)?parseInt(e,10):"0"===e?0:/^\-?\d*\.\d+$/.test(e)?parseFloat(e):!!/^true$/i.test(e)||!/^false$/i.test(e)&&t},B=function(t,e){for(var n={},r={},o=0;o<e.length;o++)r[e[o]]=!0;for(var i in t)r[i]||(n[i]=t[i]);return n},S=function(t,e){return w(t,e)&&w(e,t)},P=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r];n[o]=t[o]}return n},O=function(t){return null==t||!(!a(t)||t.length)||!!u(t)&&!Object.keys(t).length}},6184:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3;return new Promise((function(n,r){var o=document.createElement("script");o.src=t,o.async=!0,o.type="text/javascript";var i=null,s=!1,a=function(){o.onerror=null,o.onreadystatechange=null,o.onload=null,clearTimeout(i),clearTimeout(u),i=setTimeout((function(){o&&o.parentNode&&o.parentNode.removeChild(o)}),500)},c=function(){var t=o.readyState;s||t&&!/loaded|complete/.test(t)||(s=!0,setTimeout((function(){n(),a()}),1))},u=setTimeout((function(){s=!0,a(),r(new Error("timeout"))}),e);o.onerror=function(){s=!0,a(),r(new Error)},o.onreadystatechange=c,o.onload=c,(document.body||document.head).appendChild(o)}))}},67921:(t,e,n)=>{var r;void 0===(r=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function e(n){function r(e,o,i){var s;if(arguments.length>1){if("number"==typeof(i=t({path:"/"},r.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(t){}return o=(o=encodeURIComponent(String(o))).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(s={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,l=0;l<c.length;l++){var d=c[l].split("="),h=d[0].replace(u,decodeURIComponent),p=d.slice(1).join("=");if('"'===p.charAt(0)&&(p=p.slice(1,-1)),p=n&&n(p,h)||p.replace(u,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===h){s=p;break}e||(s[h]=p)}return s}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}()}.call(e,n,e,t))||(t.exports=r)},86248:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),s=new S(r||[]);return i._invoke=function(t,e,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?f:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(t,n,s),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",g={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&r.call(_,i)&&(w=_);var $=y.prototype=m.prototype=Object.create(w);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,s,a){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return v.prototype=y,c($,"constructor",y),c(y,"constructor",v),v.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create($),t},t.awrap=function(t){return{__await:t}},x(k.prototype),c(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x($),c($,a,"Generator"),c($,i,(function(){return this})),c($,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},22951:(t,e,n)=>{"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:()=>r})},91976:(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:()=>o})},33940:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:()=>r})}},t=>{t(t.s=54897)}]);